@page
@model AccessDeniedModel
@{
    ViewData["Title"] = "Access Denied";
    Layout = "_LayoutLogin";
}

<div class="mx-auto max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-sm dark:border-slate-700 dark:bg-slate-900">
    <h1 class="text-xl font-bold text-slate-900 dark:text-white">Access denied</h1>
    <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">
        You don’t have permission to access this page.
    </p>

    <div class="mt-6 flex gap-3">
        @if (User?.Identity?.IsAuthenticated == true)
        {
            <!-- Authenticated users: sign out first so middleware won't immediately redirect back -->
            <a class="rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:opacity-90"
               href="/Auth/Logout">Sign out</a>

            <a class="rounded-xl border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50
                      dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800"
               href="/Contact">Request access</a>
        }
        else
        {
            <!-- Unauthenticated users: allow normal navigation -->
            <a class="rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:opacity-90"
               href="/Index">Go Home</a>
            <a class="rounded-xl border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50
                      dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800"
               href="/Auth/Login">Login</a>
        }
    </div>
</div>
